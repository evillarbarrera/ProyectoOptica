<p id="notice"><%= notice %></p>

<div  class="form-style-barra">
EMPRESA
</div>

 <!--class="table-users" -->

<div  class="form-style-9">
 
   <table  class="table">
      <tr>
       <th>Nombre</th>
      <th>Domicilio</th>
      <th>Pais</th>
      <th>Telefono</th>
      <th>Email</th>
      <th>Web</th>
       
        <th> <input id="buscar" type="text"  placeholder="Escriba algo para filtrar" />
    
       <%= link_to 'Nueva Empresa', new_company_path, class:"btn btn-success" %>  </th>
       
    
 <table id="tabla" cellspacing="0" class="table">
  <tbody>
      <tr>
    </tr>
      <% @companies.each do |company| %>
      <tr >
       <td><%= company.Nombre %></td>
        <td><%= company.Domicilio %></td>
        <td><%= company.Pais %></td>
        <td><%= company.Telefono %></td>
        <td><%= company.Email %></td>
        <td><%= company.Web %></td>
    
       <td>  <%= link_to 'Editar', edit_company_path(company) , class:"btn btn-warning" %>
        <%= link_to 'Eliminar', company, method: :delete, data: { confirm: 'Esta Seguro de Eliminar?' } , class:"btn btn-danger"%></td>
      </tr>

    <% end %>
     <!--    <td><img src="http://lorempixel.com/100/100/people/3" alt="" /></td> -->     </tbody>
   </table>
</div>


<script>
  
  document.querySelector("#buscar").onkeyup = function(){
        $TableFilter("#tabla", this.value);
    }
    
    $TableFilter = function(id, value){
        var rows = document.querySelectorAll(id + ' tbody tr');
        
        for(var i = 0; i < rows.length; i++){
            var showRow = false;
            
            var row = rows[i];
            row.style.display = 'none';
            
            for(var x = 0; x < row.childElementCount; x++){
                if(row.children[x].textContent.toLowerCase().indexOf(value.toLowerCase().trim()) > -1){
                    showRow = true;
                    break;
                }
            }
            
            if(showRow){
                row.style.display = null;
            }
        }
    }

</script>

